{% extends "bootstrap/base.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block title %}在线投票系统{% endblock %}

{% block scripts %}
{{ super() }}
{{ moment.include_moment() }}
{% endblock %}

{% block navbar %}
<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="/">在线投票系统</a>
    </div>
    <ul class="nav navbar-nav navbar-left">
    	<li><a href="/"><span class="glyphicon">首页</span></a></li>
    </ul>
    <ul class="nav navbar-nav navbar-right">
      <li><a href="/"><span class="glyphicon  glyphicon glyphicon-chevron-left"></span>返回</a></li>
    </ul>
  </div>
</nav>
{% endblock %}

{% block content %}
<div class="container">
	{% block page_content %}
	<br>
    <br>
    <br>
    {% for message in get_flashed_messages() %}
    <div class="alert alert-warning">
      <button type="button" class="close" data-dismiss="alert">&times;</button>
      {{ message }}
    </div>
    {% endfor%}
    <div class="page-header">
	    <h1 class="text-center">新建投票</h1>
    </div>
    {% endblock %}
</div>
<div class="col-md-4"></div>
<div class="col-md-4">

  <form class="form" method="POST">
  {{ form.hidden_tag() }}
  <div class="form-group">
  	{{ form.name.label }}{{ form.name(class="form-control", placeholder="请输入主题名称：", required="required", autocomplete="off") }}
  </div>
  <div class="form-group">
  	{{ form.description.label }}{{ form.description(class="form-control", row="3", placeholder="请输入描述：", required="required", autocomplete="off") }}
  </div>
  <div class="form-group" id="options">
  	{{ form.option1.label }}{{ form.option1(class="form-control", id="option1", placeholder="选项1", required="required", autocomplete="off") }}
  </div>
  <div class="form-group">
    <div class="text-center">
		<button id="add" type="button" class="btn btn-default">添加一个选项</button>
		<button id="delete" type="button" class="btn btn-default">删除一个选项</button>
	</div>
	<div class="form-group">
  	  {{ form.submit(class="btn btn-primary btn-lg btn-block") }}
  	</div>
  </div>
  </form>
  <!--<form role="form" action="{{ url_for('main.new') }}" method="post get">
	<div class="form-group">
		<label for="name">主题：</label>
		<input id="votename" name="votename" type="text" class="form-control" placeholder="输入主题名称">
	</div>
	<div class="form-group">
		<label for="name">主题描述：</label>
		<textarea name="description" class="form-control" rows="3"></textarea>
	</div>
	<div class="form-group" id="options">
		<label for="name">选项：</label>
		<input name="option-1" id="option-1" type="text" class="form-control" placeholder="1">
		<input name="option-2" id="option-2" type="text" class="form-control" placeholder="2">
	</div>
	<div>
	    <div class="text-center">
			<button id="add" type="button" class="btn btn-default">添加一个选项</button>
			<button id="delete" type="button" class="btn btn-default">删除一个选项</button>
		</div>
		<div>
		    <button id="submit" type="submit" class="btn btn-primary btn-lg btn-block">   创   建   投   票   </button>
		</div>
	</div>
 </form>-->
 <br>
 <br>
 <br>
 <br>
 <br>
 <br>
</div>

<script src="//ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.3.min.js"></script>
<script type="text/javascript">
	var option_num = 1;
	$(document).ready(function(){
		$("#add").on("click", function(){
			option_num += 1;
			$("#options").append('<input name="option' + option_num +'" id="option' + option_num + '" type="text" class="form-control" placeholder="选项' + option_num +'" required="required" autocomplete="off"/>')
		});
		$("#delete").on("click", function(){
			if (option_num > 1){
				$("#option" + option_num).remove();
				option_num -= 1;
			}
		});
	});
</script>

{% endblock %}